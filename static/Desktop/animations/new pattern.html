<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Animated Pattern</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background: #0f0f0f;
      overflow: hidden;
      font-family: 'BitmapFont', Arial, system-ui, sans-serif;
    }
    /* Infinite rows animated pattern */
    .wrap {
      position: fixed;
      inset: -60%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 22px;
      transform: rotate(-28deg);
      pointer-events: none;
      z-index: 0;
    }
    .row {
      display: flex;
      white-space: nowrap;
      font-size: 64px;
      font-weight: 700;
      color: #fff;
      opacity: 0.96;
      will-change: transform;
      pointer-events: none;
    }
    .row span {
      margin-right: 80px;
    }
    .fade {
      position: fixed;
      inset: 0;
      pointer-events: none;
      background: linear-gradient(
        to bottom,
        #0f0f0f 0%,
        transparent 18%,
        transparent 82%,
        #0f0f0f 100%
      );
      z-index: 4;
    }
  </style>
</head>
<body>
  <!-- Animated pattern -->
  <div class="wrap" id="wrap"></div>
  <div class="fade"></div>
  <script>
    // ========== ANIMATED INFINITE ROWS ==========
    const wrap = document.getElementById("wrap");
    const ROWS = 18;
    const WORD = "Artificial Intelligence";
    const COPIES = 16;
    const rowData = [];
    let targetScroll = 0;
    let smoothScroll = 0;

    for (let i = 0; i < ROWS; i++) {
      const row = document.createElement("div");
      row.className = "row";
      for (let j = 0; j < COPIES; j++) {
        const span = document.createElement("span");
        span.textContent = WORD;
        row.appendChild(span);
      }
      wrap.appendChild(row);
      rowData.push({
        el: row,
        dir: i % 2 === 0 ? 1 : -1,
        speed: 0.32 + Math.random() * 0.22,
        offset: Math.random() * 10000,
        width: 0
      });
    }
    requestAnimationFrame(() => {
      rowData.forEach(r => {
        r.width = r.el.scrollWidth / 2;
      });
    });

    window.addEventListener("wheel", function(e) {
      e.preventDefault();
      targetScroll += e.deltaY * 1.9;
    }, { passive: false });
    window.addEventListener("touchmove", function(e) { e.preventDefault(); }, { passive: false });
    window.addEventListener("message", function(e) {
      if (e && e.data && typeof e.data === "object") {
        if (e.data.type === "scroll-sync") {
          if (typeof e.data.relativeY === "number") {
            targetScroll = e.data.relativeY || 0;
          } else {
            targetScroll = e.data.scrollY || 0;
          }
        } else if (e.data.type === "wheel-delta") {
          targetScroll += (e.data.deltaY || 0) * 1.9;
        }
      }
    }, false);

    function animate() {
      smoothScroll += (targetScroll - smoothScroll) * 0.18;
      rowData.forEach(r => {
        const raw = (smoothScroll * r.speed + r.offset) * r.dir;
        const looped = ((raw % r.width) + r.width) % r.width;
        r.el.style.transform = `translateX(${-looped}px)`;
      });
      requestAnimationFrame(animate);
    }
    animate();
  </script>
</body>
</html>
