<!-- Dotted lines background -->

<iframe src="animations/dotted lines.html" style="width:100vw; height:100vh; border:none; position:fixed; top:0; left:0; z-index:-1; pointer-events:none;"></iframe>

<script>
  // Redirect to detail.html if screen width is greater than 930px
  (function() {
    function redirectIfWide() {
      if (window.innerWidth > 930) {
        window.location.href = "detail.html";
      }
    }
    // Run on load
    redirectIfWide();
    // Optionally, also redirect if user resizes window to be wider
    window.addEventListener('resize', redirectIfWide);
  })();
</script>

<style>
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    min-height: 100vh;
    min-width: 100vw;
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    /* Allow scrolls */
    overflow-y: auto;
    overflow-x: hidden;
  }
  .outer-padding-8px {
    box-sizing: border-box;
    padding: 8px;
    width: 100vw;
    min-height: 100vh;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: flex-start;
  }
  .frame-stack-container {
    position: relative;
    width: 100%;
    min-height: 100%;
    box-sizing: border-box;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    gap: 16px;
    z-index: 1;
    /* Remove fixed height to allow scroll */
    /* height: 100vh; */
    scroll-behavior: smooth;
  }
  .frame-box {
    width: 100%;
    max-width: 600px;
    min-height: calc(100vh - 10vw - 16px);
    background: rgba(255,255,255,0.10);
    border-radius: 2.2rem;
    box-shadow: 0 8px 32px 0 rgba(31,38,135,0.18);
    border: 2.5px solid rgba(224,224,224,0.18);
    margin: 0 auto 24px auto;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    /* Remove absolute positioning for scroll */
    /* position: absolute;
    left: 50%;
    top: 50%;
    right: auto;
    bottom: auto;
    transform: translate(-50%, -50%); */
    position: relative;
    transition: opacity 0.35s, transform 0.35s;
    opacity: 1;
    pointer-events: auto;
    z-index: 2;
    backdrop-filter: blur(18px) saturate(180%);
    -webkit-backdrop-filter: blur(18px) saturate(180%);
    overflow: visible;
  }
  .frame-box.active,
  .frame-box.above,
  .frame-box.below {
    opacity: 1;
    pointer-events: auto;
    z-index: 2;
    transform: none;
  }
  .frame-box iframe {
    width: 100%;
    height: 100%;
    min-height: 100%;
    border: none;
    border-radius: 0;
    background: transparent;
    display: block;
  }
  .frame-nav-dots {
    position: fixed;
    left: 24px;
    top: 50%;
    transform: translateY(-50%);
    right: auto;
    bottom: auto;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: 12px;
    z-index: 100;
    pointer-events: none;
  }
  .frame-nav-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #fff6;
    border: 2px solid #fff;
    opacity: 0.7;
    transition: background 0.2s, opacity 0.2s;
    pointer-events: auto;
    cursor: pointer;
  }
  .frame-nav-dot.active {
    background: #fff;
    opacity: 1;
  }
</style>

<script>
  // Frame-by-frame scroll logic (now allow normal scroll)
  document.addEventListener('DOMContentLoaded', function() {
    // Frame navigation logic
    const frames = Array.from(document.querySelectorAll('.frame-box'));
    let currentFrame = 0;

    function showFrame(idx, direction = 0) {
      // No longer need to toggle classes for above/below/active
      // All frames are visible for scroll
      // But keep nav dots in sync
      document.querySelectorAll('.frame-nav-dot').forEach((dot, i) => {
        dot.classList.toggle('active', i === idx);
      });
    }

    // Create navigation dots
    let navDots = document.createElement('div');
    navDots.className = 'frame-nav-dots';
    frames.forEach((frame, i) => {
      let dot = document.createElement('div');
      dot.className = 'frame-nav-dot' + (i === 0 ? ' active' : '');
      dot.addEventListener('click', function(e) {
        e.preventDefault();
        currentFrame = i;
        // Scroll to the frame
        frame.scrollIntoView({ behavior: 'smooth', block: 'start' });
        showFrame(currentFrame);
      });
      navDots.appendChild(dot);
    });
    document.body.appendChild(navDots);

    // Initial show
    showFrame(currentFrame);

    // Optional: update nav dot on scroll
    window.addEventListener('scroll', function() {
      let found = 0;
      let minDist = Infinity;
      frames.forEach((frame, i) => {
        const rect = frame.getBoundingClientRect();
        const dist = Math.abs(rect.top);
        if (dist < minDist) {
          minDist = dist;
          found = i;
        }
      });
      if (found !== currentFrame) {
        currentFrame = found;
        showFrame(currentFrame);
      }
    });

    // Remove all overlay/notification logic
  });
</script>

<div class="outer-padding-8px">
  <div class="frame-stack-container">
    <!-- Frame 1: info.html -->
    <div class="frame-box">
      <iframe src="info mobile.html" title="Info" tabindex="-1"></iframe>
    </div>
    <!-- Frame 2: skill mobile.html and skill section mobile.html (stacked vertically, NO line between) -->
    <div class="frame-box" style="gap:0; padding:0;">
      <iframe src="skill mobile.html" title="Skill Squares" style="flex:1 1 50%; min-height:48%;" tabindex="-1"></iframe>
      <iframe src="skill section mobile.html" title="Skill Circles" style="flex:1 1 50%; min-height:48%;" tabindex="-1"></iframe>
    </div>
    <!-- Frame 3: certificat.html -->
    <div class="frame-box">
      <iframe src="certificate mobile.html" title="Certificates" tabindex="-1"></iframe>
    </div>
    <!-- Frame 4: project mobile.html -->
    <div class="frame-box">
      <iframe src="project mobile.html" title="Projects" tabindex="-1"></iframe>
    </div>
  </div>
</div>
