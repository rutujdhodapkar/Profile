<!-- Projects Carousel Section -->
<link href="https://fonts.googleapis.com/css2?family=Krona+One&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap" rel="stylesheet">
<style>
  @font-face {
    font-family: 'BitmapFont';
    src: url('BitmapFont.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
  }
  body {
    background: #00000000 !important;
  }
  .projects-scroll-wrapper {
    overflow: hidden;
    width: 100%;
    position: relative;
    margin: 0 auto;
    max-width: 100vw;
    background: transparent;
  }
  .projects-container {
    display: flex;
    gap: 40px;
    margin: 32px 0 24px 0;
    flex-wrap: nowrap;
    width: max-content;
    will-change: transform;
    scrollbar-width: none;
    -ms-overflow-style: none;
    background: transparent;
    transition: transform 0.25s cubic-bezier(.4,1.4,.6,1); /* faster transition */
  }
  .projects-container::-webkit-scrollbar {
    display: none;
  }
  .project-card {
    background: transparent !important;
    border: 2.5px solid #000 !important;
    border-radius: 56px;
    color: #000;
    min-width: 370px;
    max-width: 370px;
    width: 370px;
    height: 480px;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: flex-start;
    font-family: 'BitmapFont', Arial, sans-serif;
    font-size: 1.08rem;
    box-shadow: none;
    transition: border-radius 0.18s, background 0.18s, color 0.18s;
    margin-bottom: 12px;
    padding: 0;
    flex-shrink: 0;
    overflow: hidden;
    position: relative;
    backdrop-filter: blur(0px);
    -webkit-backdrop-filter: blur(0px);
  }
  .project-image {
    width: 100%;
    height: 210px;
    object-fit: cover;
    border-top-left-radius: 56px;
    border-top-right-radius: 56px;
    background: #222;
    display: block;
    border-bottom: none;
  }
  .project-content {
    padding: 22px 22px 16px 22px;
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    justify-content: flex-start;
    font-family: 'BitmapFont', Arial, sans-serif;
    background: transparent;
    color: #000;
  }
  .project-title {
    font-family: 'BitmapFont', Arial, sans-serif;
    font-size: 1.28rem;
    margin: 0 0 6px 0; /* reduced bottom margin */
    color: #000;
    letter-spacing: 0.5px;
    font-weight: bold;
    text-align: left;
    background: transparent;
  }
  .project-desc {
    font-family: 'BitmapFont', Arial, sans-serif;
    font-size: 1.08rem;
    color: #000;
    margin-bottom: 14px; /* reduced bottom margin */
    text-align: left;
    flex: 1 1 auto;
    background: transparent;
  }
  .project-link {
    display: inline-block;
    background: transparent !important;
    color: #000 !important;
    font-family: 'BitmapFont', Arial, sans-serif;
    font-size: 1.08rem;
    border-radius: 28px;
    padding: 9px 24px;
    text-decoration: none;
    transition: background 0.18s, color 0.18s;
    margin-top: 0; /* remove extra gap above button */
    align-self: flex-start;
    border: none !important;
  }
  @media (max-width: 700px) {
    .projects-scroll-wrapper {
      padding-left: 0;
      padding-right: 0;
      border-radius: 24px;
    }
    .projects-container {
      gap: 22px;
      margin: 18px 0 12px 0; /* reduced margin for mobile */
      transition: transform 0.18s cubic-bezier(.4,1.4,.6,1); /* even faster for mobile */
    }
    .project-card {
      min-width: 300px;
      max-width: 300px;
      width: 300px;
      height: 430px;
      border-radius: 44px;
      border: 2.5px solid #000 !important;
      color: #000;
    }
    .project-image {
      height: 150px;
      border-top-left-radius: 44px;
      border-top-right-radius: 44px;
    }
    .project-content {
      padding: 14px 12px 8px 12px; /* reduced padding for less vertical space */
      font-family: 'BitmapFont', Arial, sans-serif;
      color: #000;
    }
    .project-title {
      font-size: 1.18rem;
      margin-bottom: 5px; /* reduced bottom margin */
      font-family: 'BitmapFont', Arial, sans-serif;
      color: #000;
    }
    .project-desc {
      font-size: 1.01rem;
      margin-bottom: 10px; /* reduced bottom margin */
      font-family: 'BitmapFont', Arial, sans-serif;
      color: #000;
    }
    .project-link {
      font-size: 1.01rem;
      padding: 8px 20px;
      border-radius: 26px;
      font-family: 'BitmapFont', Arial, sans-serif;
      margin-top: 0; /* remove extra gap above button */
      color: #000 !important;
    }
  }
  .projects-title {
    font-family: 'Krona One', Arial, sans-serif;
    color: #000;
    margin-bottom: 10px; /* reduced gap below title */
    letter-spacing: 1px;
    font-size: 2.2rem;
    display: inline-block;
  }
  .other-projects-btn {
    display: block;
    margin: 8px auto 0 auto; /* reduced gap between title and button */
    background: rgba(0, 0, 0, 0.08);
    color: #000;
    font-family: 'Krona One', Arial, sans-serif;
    font-size: 1rem;
    padding: 10px 28px;
    border-radius: 32px;
    text-decoration: none;
    transition: background 0.18s, color 0.18s;
    box-shadow: 0 2px 8px 0 rgba(0,0,0,0.08);
    border: none;
    width: fit-content;
  }
  .other-projects-btn:hover {
    background: rgba(0, 0, 0, 0.18);
    color: #000;
  }
  /* Semi-transparent next/prev buttons */
  .project-nav-btn {
    position: absolute;
    top: 50%;
    z-index: 10;
    transform: translateY(-50%);
    background: rgba(30,30,30,0.45);
    color: #000;
    border: none;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    font-size: 2rem;
    cursor: pointer;
    outline: none;
    transition: background 0.18s, color 0.18s, box-shadow 0.18s;
    box-shadow: 0 2px 8px 0 rgba(0,0,0,0.12);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.85;
    user-select: none;
  }
  .project-nav-btn:active {
    background: rgba(60,60,60,0.55);
    color: #000;
  }
  .project-nav-btn.prev {
    left: 8px;
  }
  .project-nav-btn.next {
    right: 8px;
  }
  @media (max-width: 700px) {
    .project-nav-btn {
      width: 38px;
      height: 38px;
      font-size: 1.4rem;
      color: #000;
    }
    .project-nav-btn.prev {
      left: 2px;
    }
    .project-nav-btn.next {
      right: 2px;
    }
    .other-projects-btn {
      padding: 8px 20px;
      border-radius: 26px;
      font-size: 0.98rem;
      margin-top: 6px; /* reduced gap for mobile */
      color: #000;
    }
  }

  /* --- 01 Style number at bottom right --- */
  .corner-number-01 {
    position: fixed;
    right: 0;
    bottom: 0;
    z-index: 1000;
    pointer-events: none;
    user-select: none;
    padding: 0 10px 0 0;
    line-height: 1;
  }
  .corner-number-01 .number {
    font-family: 'Orbitron', sans-serif;
    font-size: 150px !important;
    font-weight: 900;
    color: transparent;
    -webkit-text-stroke: 2px #000000;
    opacity: 0.3;
    margin: 0;
    padding: 0;
    letter-spacing: 0;
    background: none;
  }
  @media (max-width: 700px) {
    .corner-number-01 .number {
      font-size: 160px !important;
    }
  }
</style>
<div style="text-align:center; position:relative;">
  <h2 class="projects-title">Projects</h2>
  <a href="otherprojects.html" target="_blank" class="other-projects-btn">View Other Projects</a>
  <div class="projects-scroll-wrapper" style="position:relative;">
    <button class="project-nav-btn prev" id="projectPrevBtn" aria-label="Previous project">&#8592;</button>
    <button class="project-nav-btn next" id="projectNextBtn" aria-label="Next project">&#8594;</button>
    <div class="projects-container" id="autoScrollProjects">
      <!-- Project cards will be populated by JavaScript -->
    </div>
  </div>
</div>
<!-- 01 Style number at bottom right -->
<div class="corner-number-01">
  <div class="number">05</div>
</div>
<script>
  // Projects carousel with manual navigation (no auto scroll)
  (function() {
    const container = document.getElementById('autoScrollProjects');
    
    // Fetch and populate projects first
    fetch('https://raw.githubusercontent.com/rutujdhodapkar/Profile/main/data.csv')
      .then(response => response.text())
      .then(data => {
        // Parse CSV and only use rows with exactly 5 columns (ptitle, pdescriptio, plinks, pdate, pimgpath)
        const lines = data.split('\n');
        // Find header and its indices
        const header = lines[0].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(h => h.trim());
        const colIdx = {
          ptitle: header.indexOf('ptitle'),
          pdescriptio: header.indexOf('pdescriptio'),
          plinks: header.indexOf('plinks'),
          pdate: header.indexOf('pdate'),
          pimgpath: header.indexOf('pimgpath')
        };
        // Only proceed if all columns exist
        if (Object.values(colIdx).some(idx => idx === -1)) return;

        const projects = lines.slice(1).map(row => {
          if (!row.trim()) return null;
          const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
          // Only use rows with correct number of columns
          if (cols.length !== header.length) return null;
          // Extract and clean each field
          function clean(val) {
            return val.replace(/^"|"$/g, '').trim();
          }
          return {
            ptitle: clean(cols[colIdx.ptitle]),
            pdescriptio: clean(cols[colIdx.pdescriptio]),
            plinks: clean(cols[colIdx.plinks]),
            pdate: clean(cols[colIdx.pdate]),
            pimgpath: clean(cols[colIdx.pimgpath])
          };
        }).filter(Boolean);

        // Generate project cards
        projects.forEach(project => {
          const card = document.createElement('div');
          card.className = 'project-card';
          card.innerHTML = `
            <img class="project-image" src="${project.pimgpath}" alt="${project.ptitle}">
            <div class="project-content">
              <div class="project-title">${project.ptitle}</div>
              <div class="project-date" style="color:#000">${project.pdate}</div>
              <div class="project-desc">${project.pdescriptio}</div>
              <div class="project-links">
                <a class="project-link" href="${project.plinks}" target="_blank" rel="noopener">View Project</a>
              </div>
            </div>
          `;
          container.appendChild(card);
        });

        // No duplication for infinite scroll, just show the original cards
        const cards = Array.from(container.children);
        const cardWidth = () => cards[0].offsetWidth + parseInt(getComputedStyle(container).gap || 0, 10) || 40;
        let currentIndex = 0;

        function scrollToProject(index) {
          // Clamp index
          if (index < 0) index = projects.length - 1;
          if (index >= projects.length) index = 0;
          currentIndex = index;
          container.style.transform = `translateX(${-index * cardWidth()}px)`;
        }

        document.getElementById('projectNextBtn').addEventListener('click', () => {
          scrollToProject(currentIndex + 1);
        });

        document.getElementById('projectPrevBtn').addEventListener('click', () => {
          scrollToProject(currentIndex - 1);
        });

        // Responsive: update transform on resize
        window.addEventListener('resize', () => {
          scrollToProject(currentIndex);
        });

        // Start at first project
        scrollToProject(0);
      }).catch(error => console.error('Error loading projects:', error));
  })();
</script>
<style>
    ::selection {
      background: #000;
      color: #fff;
    }
</style>

<style>
  html, body {
    overflow: hidden !important;
    scrollbar-width: none !important; /* Firefox */
  }
  html::-webkit-scrollbar, body::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
    background: transparent !important;
  }
  .projects-scroll-wrapper::-webkit-scrollbar,
  .projects-container::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
    background: transparent !important;
  }
  .projects-scroll-wrapper,
  .projects-container {
    scrollbar-width: none !important; /* Firefox */
    -ms-overflow-style: none !important; /* IE/Edge */
  }
</style>