<style>
  body {
    background: #ffffff;
    margin: 0;
    padding: 0;
    height: 100vh;
    overflow: hidden;
  }
  #curveBtn {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: #0f0f0f;
    color: #ffffff;
    border: none;
    border-radius: 50%;
    width: 40px;   /* Start smaller */
    height: 40px;  /* Start smaller */
    font-size: 1.05rem;
    font-family: monospace, 'CustomPixelFont', 'Courier New', Courier, monospace;
    cursor: pointer;
    box-shadow: 0 4px 24px rgba(0,0,0,0.15);
    transition: 
      width 0.7s cubic-bezier(.4,1.2,.6,1), 
      height 0.7s cubic-bezier(.4,1.2,.6,1), 
      border-radius 0.7s cubic-bezier(.4,1.2,.6,1),
      font-size 0.8s,
      background 0.8s,
      color 0.8s;
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    letter-spacing: 0.02em;
    outline: none;
  }
  #curveBtn.grow {
    width: 100px;   /* Grows to original size */
    height: 100px;
    /* Keep all other properties the same */
    transition: 
      width 0.7s cubic-bezier(.4,1.2,.6,1), 
      height 0.7s cubic-bezier(.4,1.2,.6,1), 
      border-radius 0.7s cubic-bezier(.4,1.2,.6,1),
      font-size 0.8s,
      background 0.8s,
      color 0.8s;
  }
  #curveBtn.stage2 {
    width: 220px;
    height: 60px;
    border-radius: 40px;
    font-size: 0.95rem;
    background: #0f0f0f000;
    color: #ffffff;
    font-family: monospace, 'CustomPixelFont', 'Courier New', Courier, monospace;
    transition: 
      width 0.8s cubic-bezier(.4,1.2,.6,1), 
      height 0.8s cubic-bezier(.4,1.2,.6,1), 
      border-radius 0.8s cubic-bezier(.4,1.2,.6,1),
      font-size 0.8s,
      background 0.8s,
      color 0.8s;
  }
  #curveBtn.fullscreen {
    width: 3000px;
    height: 3000px;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    border-radius: 0;
    font-size: 1.3rem;
    background: #0f0f0f000;
    color: #ffffff;
    font-family: monospace, 'CustomPixelFont', 'Courier New', Courier, monospace;
    transition: 
      width 1.2s cubic-bezier(.4,1.2,.6,1), 
      height 1.2s cubic-bezier(.4,1.2,.6,1), 
      border-radius 1.2s cubic-bezier(.4,1.2,.6,1),
      font-size 1.2s,
      background 1.2s,
      color 1.2s;
  }
  #curveBtn .fade-text {
    opacity: 0;
    transition: opacity 0.4s;
    position: absolute;
    left: 0; right: 0; top: 0; bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    pointer-events: none;
    font-family: monospace, 'CustomPixelFont', 'Courier New', Courier, monospace;
  }
  #curveBtn .fade-text.visible {
    opacity: 1;
    transition: opacity 0.4s;
  }
</style>
<button id="curveBtn">
  <span class="fade-text visible" id="loadingText"></span>
  <span class="fade-text" id="stageText"></span>
  <span class="fade-text" id="welcomeText"></span>
</button>
<script>
  // --- PIXEL FONT LOGIC START ---
  const pixelFont = {
    '.': [[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0]],
    'L': [[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],
    'o': [[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],
    'a': [[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1]],
    'd': [[0,0,0,0,1],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],
    'i': [[0,0,1,0,0],[0,0,0,0,0],[1,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1]],
    'n': [[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],
    'g': [[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],
    'W': [[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,1,0,1,1],[1,1,0,1,1],[1,0,0,0,1]],
    'e': [[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],
    'l': [[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],
    'c': [[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],
    'm': [[0,0,0,0,0],[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]]
  };

  function renderPixelText(str, options = {}) {
    const scale = options.scale || 3;
    const spacing = options.spacing || 2;
    const color = options.color || "#fff";
    const bg = options.bg || "transparent";
    const chars = String(str).split('');
    const charWidth = 5, charHeight = 7;
    const width = chars.length * (charWidth * scale + spacing) - spacing;
    const height = charHeight * scale;
    let svg = `<svg width="${width}" height="${height}" viewBox="0 0 ${width} ${height}" style="vertical-align:middle;display:inline-block;">`;
    let x = 0;
    for (let c of chars) {
      let matrix = pixelFont[c] || pixelFont[' '];
      for (let row = 0; row < charHeight; row++) {
        for (let col = 0; col < charWidth; col++) {
          if (matrix[row][col]) {
            svg += `<rect x="${x + col*scale}" y="${row*scale}" width="${scale}" height="${scale}" fill="${color}" rx="${scale/2}" />`;
          }
        }
      }
      x += charWidth * scale + spacing;
    }
    svg += `</svg>`;
    return svg;
  }
  // --- PIXEL FONT LOGIC END ---

  var btn = document.getElementById('curveBtn');
  var loadingText = document.getElementById('loadingText');
  var stageText = document.getElementById('stageText');
  var welcomeText = document.getElementById('welcomeText');

  // Initial state: empty circle, subtle loading dots
  loadingText.innerHTML = renderPixelText('', {scale: 3, color: "#fff"});
  stageText.innerHTML = renderPixelText('Loading...', {scale: 2.5, color: "#fff"});
  welcomeText.innerHTML = renderPixelText('Welcome', {scale: 3.5, color: "#fff"});

  // Helper to fade between texts
  function showText(show, hide1, hide2) {
    show.classList.add('visible');
    hide1.classList.remove('visible');
    hide2.classList.remove('visible');
  }

  // Stage 0: Animate the black circle growing to its original size
  showText(loadingText, stageText, welcomeText);
  setTimeout(function() {
    btn.classList.add('grow');
  }, 100); // slight delay for transition

  // Stage 1: After grow animation, keep as circle for 1.1s more (total ~1.2s)
  setTimeout(function() {
    // Now morph to pill and show "Loading..."
    btn.classList.remove('grow');
    btn.classList.add('stage2');
    showText(stageText, loadingText, welcomeText);
  }, 100 + 1100);

  // Stage 2: After pill, cover page and show "Welcome"
  setTimeout(function() {
    btn.classList.remove('stage2');
    btn.classList.add('fullscreen');
    showText(welcomeText, loadingText, stageText);

    // After 5 seconds, open Main.html
    setTimeout(function() {
      window.location.href = "Main.html";
    }, 5000);

  }, 100 + 1100 + 2300);
</script>
<script>
// Function to preload all files in the working directory (static folder)
function preloadAllFiles() {
  // Try to fetch a list of files from the server (requires server-side support)
  fetch('./')
    .then(response => response.text())
    .then(html => {
      // Parse the HTML to find links to files
      var parser = new DOMParser();
      var doc = parser.parseFromString(html, 'text/html');
      var links = Array.from(doc.querySelectorAll('a'));
      // Filter out parent directory and only get files (not folders)
      var fileLinks = links
        .map(a => a.getAttribute('href'))
        .filter(href => href && !href.startsWith('?') && !href.startsWith('/'))
        .filter(href => !href.endsWith('/')); // skip directories

      // Preload each file in the background
      fileLinks.forEach(file => {
        // Only preload if not this HTML file
        if (!window.location.pathname.endsWith(file)) {
          fetch(file).catch(()=>{});
        }
      });
    })
    .catch(err => {
      // Directory listing not available, do nothing
    });
}

// Start preloading as soon as possible
window.addEventListener('DOMContentLoaded', preloadAllFiles);
</script>